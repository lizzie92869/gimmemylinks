function User(t){this.email=t.email}function attachListeners(){$(".open-bar").on("click",openBar),$(".new-plus").on("click",openBar)}function openBar(t){t.preventDefault(),$.get("/lists.json",function(t){let e=` \n            <div class="js-big-nav"><div class = "colon-left leftSideBigNav darkGray lightGreyBackground">\n            <div class="js-appendListName"><div class="right-align"><a href="#"><i class="close-bar material-icons darkGray">chevron_left</i></a></div>\n            ${listsNames(t)}\n            </div>\n            \n            </br></br></br></br></br></br>\n            <h6>Enter a new list:</h6>\n            <form action="/lists" method="post" class="js-newList" id="js-clearList">\n                <input id="newListName" type="text" name="name" >\n                <h6>Choose a color:</h6>\n                \n                <label class="container1"> \n                  <input type="radio" checked="checked" name="color" value="#CCFF38" class="newListColor">\n                  <span class="checkmark" id="green"></span>\n                </label>\n                <label class="container1"> \n                  <input type="radio" name="color" value="#604560" class="newListColor">\n                  <span class="checkmark" id="purple"></span>\n                </label>\n                <label class="container1">  \n                  <input type="radio" name="color" value="#E4E0D5" class="newListColor">\n                  <span class="checkmark" id="taupe"></span>\n                </label>\n                <label class="container1"> \n                  <input type="radio" name="color" value="#51CDA7" class="newListColor">\n                  <span class="checkmark" id="teal"></span>\n                </label>\n                <label class="container1"> \n                  <input type="radio" name="color" value="#BCB7B3" class="newListColor">\n                  <span class="checkmark" id="mgrey"></span>\n                </label>\n                <label class="container1"> \n                  <input type="radio" name="color" value="#FF3333" class="newListColor">\n                  <span class="checkmark" id="red"></span>\n                </label>\n                <label class="container1"> \n                  <input type="radio" name="color" value="#F9FFFC" class="newListColor">\n                  <span class="checkmark" id="mint"></span>\n                </label>\n                </br></br>\n                <input type="submit" id="submitNewListButton">\n            </form>\n            </div>`;$(".big-sidenav").html(e),attachCloseBarListener(),attachJsListListener(),attachNewListListener(),attachButtonListener()})}function attachButtonListener(){$("#hp-list").on("click",filterList)}function filterList(t){t.preventDefault(),$.get("/lists.json",function(t){let e=` \n            <div class="js-big-nav"><div class = "colon-left leftSideBigNav darkGray lightGreyBackground">\n            <div class="js-appendListName"><div class="right-align"><a href="#"><i class="close-bar material-icons darkGray">chevron_left</i></a></div>\n            ${listsNames(t.filter(t=>{let e=t.links.length,n=t.links;return e>0&&n.some(t=>t.priority<2)}))}\n            </div>\n            \n            </br></br></br></br></br></br>\n            <h6>Enter a new list:</h6>\n            <form action="/lists" method="post" class="js-newList" id="js-clearList">\n                <input id="newListName" type="text" name="name" >\n                <h6>Choose a color:</h6>\n                \n                <label class="container1"> \n                  <input type="radio" checked="checked" name="color" value="#CCFF38" class="newListColor">\n                  <span class="checkmark" id="green"></span>\n                </label>\n                <label class="container1"> \n                  <input type="radio" name="color" value="#604560" class="newListColor">\n                  <span class="checkmark" id="purple"></span>\n                </label>\n                <label class="container1">  \n                  <input type="radio" name="color" value="#E4E0D5" class="newListColor">\n                  <span class="checkmark" id="taupe"></span>\n                </label>\n                <label class="container1"> \n                  <input type="radio" name="color" value="#51CDA7" class="newListColor">\n                  <span class="checkmark" id="teal"></span>\n                </label>\n                <label class="container1"> \n                  <input type="radio" name="color" value="#BCB7B3" class="newListColor">\n                  <span class="checkmark" id="mgrey"></span>\n                </label>\n                <label class="container1"> \n                  <input type="radio" name="color" value="#FF3333" class="newListColor">\n                  <span class="checkmark" id="red"></span>\n                </label>\n                <label class="container1"> \n                  <input type="radio" name="color" value="#F9FFFC" class="newListColor">\n                  <span class="checkmark" id="mint"></span>\n                </label>\n                </br></br>\n                <input type="submit" id="submitNewListButton">\n            </form>\n            </div>`;$(".big-sidenav").html(e),attachCloseBarListener(),attachJsListListener(),attachNewListListener(),attachButtonListener()})}function listsNames(t){let e=t.map(function(t){return'<div class="valign-wrapper"><i class="material-icons rightMarginForIcons" style="color: '+t.color+'">brightness_1</i><a href="#" class="js-list" data-id='+t.id+">"+t.name+"</a></div>"});return listNamesString=e.toString().replace(/,/g,""),listNamesString}function attachCloseBarListener(){$(".close-bar").on("click",closeBar)}function closeBar(t){t.preventDefault(),$(".big-sidenav").html("")}function attachJsListListener(){$(".js-list").on("click",displayLinksFromBars),$(".js-list").on("click",closeBar)}function renderFilterHeading(t){$(".filter").html('\n        <div>\n        </br>\n        Sort by |\n        <a href= "#" id="high-priority" data-id='+t+'> higher priority</a> | \n        <a href= "#"> most recent</a> |  \n        <a href= "#"> oldest</a> \n        </br>\n        <a href= "/lists/'+t+'" data-method="delete"><i id="can" class="material-icons">delete</i>delete this list</a>\n    \n        </div>\n        ')}function displayLinksFromBars(t){t.preventDefault(),$(".link").html("");let e=parseInt($(this).attr("data-id"));renderFilterHeading(e),$.get("/lists.json",function(t){let n=listData(t,e),i=n.name;$(".link").append("</br></br></br>Viewing list: "+i);linkData(t,n);$(".link").append('\n            <a list-id="'+e+'" user-id="'+n.user+'" class="plus" href=/lists/'+e+'/links/new><i class="large material-icons">add_circle_outline</i></a>\n            </div>\n        ')})}function attachNewListListener(){$("form.js-newList").submit(createNewList)}function createNewList(t){t.preventDefault();let e={authenticity_token:$("meta[name=csrf-token]").attr("content"),list:{name:$("#newListName").val(),color:$("input:checked").val()}};$.post("/lists",e,function(t){let e=t;$(".js-appendListName").append('\n            <div class="valign-wrapper">\n            <i class="material-icons rightMarginForIcons" style="color: '+e.color+'">brightness_1</i>\n            <a href="#" class="js-list" data-id='+e.id+">"+e.name+"</a></div>\n            "),$("#newListName").val(""),attachJsListListener()})}function attachFlagListener(t,e){$(".link").on("load",flagColor(t,e))}function flagColor(t,e){1===t?$("#flag-"+e).addClass("red-text"):2===t?$("#flag-"+e).addClass("yellow-text"):$("#flag-"+e).addClass("white-text")}function User(t){this.email=t.email}function List(t){this.name=t.name,this.color=t.color,this.user_id=t.user_id}function Link(t){this.user_id=t.user_id,this.list_id=t.list_id,this.name=t.name,this.url=t.url,this.priority=t.priority}(function(){var t=this;(function(){(function(){this.Rails={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:{selector:"button[data-remote]:not([form]), button[data-confirm]:not([form])",exclude:"form button"},inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",formDisableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",formEnableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]"}}).call(this)}).call(t);var e=t.Rails;(function(){(function(){var t,n;n=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector,e.matches=function(t,e){return null!=e.exclude?n.call(t,e.selector)&&!n.call(t,e.exclude):n.call(t,e)},t="_ujsData",e.getData=function(e,n){var i;return null!=(i=e[t])?i[n]:void 0},e.setData=function(e,n,i){return null==e[t]&&(e[t]={}),e[t][n]=i},e.$=function(t){return Array.prototype.slice.call(document.querySelectorAll(t))}}).call(this),function(){var t,n,i;t=e.$,i=e.csrfToken=function(){var t;return(t=document.querySelector("meta[name=csrf-token]"))&&t.content},n=e.csrfParam=function(){var t;return(t=document.querySelector("meta[name=csrf-param]"))&&t.content},e.CSRFProtection=function(t){var e;if(null!=(e=i()))return t.setRequestHeader("X-CSRF-Token",e)},e.refreshCSRFTokens=function(){var e,o;if(o=i(),e=n(),null!=o&&null!=e)return t('form input[name="'+e+'"]').forEach(function(t){return t.value=o})}}.call(this),function(){var t,n,i;i=e.matches,"function"!=typeof(t=window.CustomEvent)&&((t=function(t,e){var n;return(n=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}).prototype=window.Event.prototype),n=e.fire=function(e,n,i){var o;return o=new t(n,{bubbles:!0,cancelable:!0,detail:i}),e.dispatchEvent(o),!o.defaultPrevented},e.stopEverything=function(t){return n(t.target,"ujs:everythingStopped"),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()},e.delegate=function(t,e,n,o){return t.addEventListener(n,function(t){var n;for(n=t.target;n instanceof Element&&!i(n,e);)n=n.parentNode;if(n instanceof Element&&!1===o.call(n,t))return t.preventDefault(),t.stopPropagation()})}}.call(this),function(){var t,n,i,o,r;n=e.CSRFProtection,e.fire,t={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},e.ajax=function(t){var e;return t=o(t),e=i(t,function(){var n;return n=r(e.response,e.getResponseHeader("Content-Type")),2===Math.floor(e.status/100)?"function"==typeof t.success&&t.success(n,e.statusText,e):"function"==typeof t.error&&t.error(n,e.statusText,e),"function"==typeof t.complete?t.complete(e,e.statusText):void 0}),!("function"!=typeof t.beforeSend||!t.beforeSend(e,t))&&(e.readyState===XMLHttpRequest.OPENED?e.send(t.data):void 0)},o=function(e){return e.url=e.url||location.href,e.type=e.type.toUpperCase(),"GET"===e.type&&e.data&&(e.url.indexOf("?")<0?e.url+="?"+e.data:e.url+="&"+e.data),null==t[e.dataType]&&(e.dataType="*"),e.accept=t[e.dataType],"*"!==e.dataType&&(e.accept+=", */*; q=0.01"),e},i=function(t,e){var i;return(i=new XMLHttpRequest).open(t.type,t.url,!0),i.setRequestHeader("Accept",t.accept),"string"==typeof t.data&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),n(i),i.withCredentials=!!t.withCredentials,i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE)return e(i)},i},r=function(t,e){var n,i;if("string"==typeof t&&"string"==typeof e)if(e.match(/\bjson\b/))try{t=JSON.parse(t)}catch(o){}else if(e.match(/\b(?:java|ecma)script\b/))(i=document.createElement("script")).text=t,document.head.appendChild(i).parentNode.removeChild(i);else if(e.match(/\b(xml|html|svg)\b/)){n=new DOMParser,e=e.replace(/;.+/,"");try{t=n.parseFromString(t,e)}catch(o){}}return t},e.href=function(t){return t.href},e.isCrossDomain=function(t){var e,n;(e=document.createElement("a")).href=location.href,n=document.createElement("a");try{return n.href=t,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(i){return i,!0}}}.call(this),function(){var t,n;t=e.matches,n=function(t){return Array.prototype.slice.call(t)},e.serializeElement=function(e,i){var o,r;return o=[e],t(e,"form")&&(o=n(e.elements)),r=[],o.forEach(function(e){if(e.name&&!e.disabled)return t(e,"select")?n(e.options).forEach(function(t){if(t.selected)return r.push({name:e.name,value:t.value})}):e.checked||-1===["radio","checkbox","submit"].indexOf(e.type)?r.push({name:e.name,value:e.value}):void 0}),i&&r.push(i),r.map(function(t){return null!=t.name?encodeURIComponent(t.name)+"="+encodeURIComponent(t.value):t}).join("&")},e.formElements=function(e,i){return t(e,"form")?n(e.elements).filter(function(e){return t(e,i)}):n(e.querySelectorAll(i))}}.call(this),function(){var t,n,i;n=e.fire,i=e.stopEverything,e.handleConfirm=function(e){if(!t(this))return i(e)},t=function(t){var e,i,o;if(!(o=t.getAttribute("data-confirm")))return!0;if(e=!1,n(t,"confirm")){try{e=confirm(o)}catch(r){}i=n(t,"confirm:complete",[e])}return e&&i}}.call(this),function(){var t,n,i,o,r,a,s,l,c,u,d;c=e.matches,l=e.getData,u=e.setData,d=e.stopEverything,s=e.formElements,e.handleDisabledElement=function(t){if(this.disabled)return d(t)},e.enableElement=function(t){var n;return n=t instanceof Event?t.target:t,c(n,e.linkDisableSelector)?a(n):c(n,e.buttonDisableSelector)||c(n,e.formEnableSelector)?o(n):c(n,e.formSubmitSelector)?r(n):void 0},e.disableElement=function(o){var r;return r=o instanceof Event?o.target:o,c(r,e.linkDisableSelector)?i(r):c(r,e.buttonDisableSelector)||c(r,e.formDisableSelector)?t(r):c(r,e.formSubmitSelector)?n(r):void 0},i=function(t){var e;return null!=(e=t.getAttribute("data-disable-with"))&&(u(t,"ujs:enable-with",t.innerHTML),t.innerHTML=e),t.addEventListener("click",d),u(t,"ujs:disabled",!0)},a=function(t){var e;return null!=(e=l(t,"ujs:enable-with"))&&(t.innerHTML=e,u(t,"ujs:enable-with",null)),t.removeEventListener("click",d),u(t,"ujs:disabled",null)},n=function(n){return s(n,e.formDisableSelector).forEach(t)},t=function(t){var e;return null!=(e=t.getAttribute("data-disable-with"))&&(c(t,"button")?(u(t,"ujs:enable-with",t.innerHTML),t.innerHTML=e):(u(t,"ujs:enable-with",t.value),t.value=e)),t.disabled=!0,u(t,"ujs:disabled",!0)},r=function(t){return s(t,e.formEnableSelector).forEach(o)},o=function(t){var e;return null!=(e=l(t,"ujs:enable-with"))&&(c(t,"button")?t.innerHTML=e:t.value=e,u(t,"ujs:enable-with",null)),t.disabled=!1,u(t,"ujs:disabled",null)}}.call(this),function(){var t;t=e.stopEverything,e.handleMethod=function(n){var i,o,r,a,s,l,c;if(c=(l=this).getAttribute("data-method"))return s=e.href(l),o=e.csrfToken(),i=e.csrfParam(),r=document.createElement("form"),a="<input name='_method' value='"+c+"' type='hidden' />",null==i||null==o||e.isCrossDomain(s)||(a+="<input name='"+i+"' value='"+o+"' type='hidden' />"),a+='<input type="submit" />',r.method="post",r.action=s,r.target=l.target,r.innerHTML=a,r.style.display="none",document.body.appendChild(r),r.querySelector('[type="submit"]').click(),t(n)}}.call(this),function(){var t,n,i,o,r,a,s,l,c,u=[].slice;a=e.matches,i=e.getData,l=e.setData,n=e.fire,c=e.stopEverything,t=e.ajax,o=e.isCrossDomain,s=e.serializeElement,r=function(t){var e;return null!=(e=t.getAttribute("data-remote"))&&"false"!==e},e.handleRemote=function(d){var p,h,f,m,b,g,v;return!r(m=this)||(n(m,"ajax:before")?(v=m.getAttribute("data-with-credentials"),f=m.getAttribute("data-type")||"script",a(m,e.formSubmitSelector)?(p=i(m,"ujs:submit-button"),b=i(m,"ujs:submit-button-formmethod")||m.method,g=i(m,"ujs:submit-button-formaction")||m.getAttribute("action")||location.href,"GET"===b.toUpperCase()&&(g=g.replace(/\?.*$/,"")),"multipart/form-data"===m.enctype?(h=new FormData(m),null!=p&&h.append(p.name,p.value)):h=s(m,p),l(m,"ujs:submit-button",null),l(m,"ujs:submit-button-formmethod",null),l(m,"ujs:submit-button-formaction",null)):a(m,e.buttonClickSelector)||a(m,e.inputChangeSelector)?(b=m.getAttribute("data-method"),g=m.getAttribute("data-url"),h=s(m,m.getAttribute("data-params"))):(b=m.getAttribute("data-method"),g=e.href(m),h=m.getAttribute("data-params")),t({type:b||"GET",url:g,data:h,dataType:f,beforeSend:function(t,e){return n(m,"ajax:beforeSend",[t,e])?n(m,"ajax:send",[t]):(n(m,"ajax:stopped"),!1)},success:function(){var t;return t=1<=arguments.length?u.call(arguments,0):[],n(m,"ajax:success",t)},error:function(){var t;return t=1<=arguments.length?u.call(arguments,0):[],n(m,"ajax:error",t)},complete:function(){var t;return t=1<=arguments.length?u.call(arguments,0):[],n(m,"ajax:complete",t)},crossDomain:o(g),withCredentials:null!=v&&"false"!==v}),c(d)):(n(m,"ajax:stopped"),!1))},e.formSubmitButtonClick=function(){var t,e;if(e=(t=this).form)return t.name&&l(e,"ujs:submit-button",{name:t.name,value:t.value}),l(e,"ujs:formnovalidate-button",t.formNoValidate),l(e,"ujs:submit-button-formaction",t.getAttribute("formaction")),l(e,"ujs:submit-button-formmethod",t.getAttribute("formmethod"))},e.handleMetaClick=function(t){var e,n,i;if(i=((n=this).getAttribute("data-method")||"GET").toUpperCase(),e=n.getAttribute("data-params"),(t.metaKey||t.ctrlKey)&&"GET"===i&&!e)return t.stopImmediatePropagation()}}.call(this),function(){var t,n,i,o,r,a,s,l,c,u,d,p,h,f;a=e.fire,i=e.delegate,l=e.getData,t=e.$,f=e.refreshCSRFTokens,n=e.CSRFProtection,r=e.enableElement,o=e.disableElement,u=e.handleDisabledElement,c=e.handleConfirm,h=e.handleRemote,s=e.formSubmitButtonClick,d=e.handleMetaClick,p=e.handleMethod,"undefined"==typeof jQuery||null===jQuery||null==jQuery.ajax||jQuery.rails||(jQuery.rails=e,jQuery.ajaxPrefilter(function(t,e,i){if(!t.crossDomain)return n(i)})),e.start=function(){if(window._rails_loaded)throw new Error("rails-ujs has already been loaded!");return window.addEventListener("pageshow",function(){return t(e.formEnableSelector).forEach(function(t){if(l(t,"ujs:disabled"))return r(t)}),t(e.linkDisableSelector).forEach(function(t){if(l(t,"ujs:disabled"))return r(t)})}),i(document,e.linkDisableSelector,"ajax:complete",r),i(document,e.linkDisableSelector,"ajax:stopped",r),i(document,e.buttonDisableSelector,"ajax:complete",r),i(document,e.buttonDisableSelector,"ajax:stopped",r),i(document,e.linkClickSelector,"click",u),i(document,e.linkClickSelector,"click",c),i(document,e.linkClickSelector,"click",d),i(document,e.linkClickSelector,"click",o),i(document,e.linkClickSelector,"click",h),i(document,e.linkClickSelector,"click",p),i(document,e.buttonClickSelector,"click",u),i(document,e.buttonClickSelector,"click",c),i(document,e.buttonClickSelector,"click",o),i(document,e.buttonClickSelector,"click",h),i(document,e.inputChangeSelector,"change",u),i(document,e.inputChangeSelector,"change",c),i(document,e.inputChangeSelector,"change",h),i(document,e.formSubmitSelector,"submit",u),i(document,e.formSubmitSelector,"submit",c),i(document,e.formSubmitSelector,"submit",h),i(document,e.formSubmitSelector,"submit",function(t){return setTimeout(function(){return o(t)},13)}),i(document,e.formSubmitSelector,"ajax:send",o),i(document,e.formSubmitSelector,"ajax:complete",r),i(document,e.formInputClickSelector,"click",u),i(document,e.formInputClickSelector,"click",c),i(document,e.formInputClickSelector,"click",s),document.addEventListener("DOMContentLoaded",f),window._rails_loaded=!0},window.Rails===e&&a(document,"rails:attachBindings")&&e.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd&&define(e)}).call(this),function(){var t=this;(function(){(function(){var t=[].slice;this.ActionCable={INTERNAL:{message_types:{welcome:"welcome",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},WebSocket:window.WebSocket,logger:window.console,createConsumer:function(t){var n;return null==t&&(t=null!=(n=this.getConfig("url"))?n:this.INTERNAL.default_mount_path),new e.Consumer(this.createWebSocketURL(t))},getConfig:function(t){var e;return null!=(e=document.head.querySelector("meta[name='action-cable-"+t+"']"))?e.getAttribute("content"):void 0},createWebSocketURL:function(t){var e;return t&&!/^wss?:/i.test(t)?((e=document.createElement("a")).href=t,e.href=e.href,e.protocol=e.protocol.replace("http","ws"),e.href):t},startDebugging:function(){return this.debugging=!0},stopDebugging:function(){return this.debugging=null},log:function(){var e,n;if(e=1<=arguments.length?t.call(arguments,0):[],this.debugging)return e.push(Date.now()),(n=this.logger).log.apply(n,["[ActionCable]"].concat(t.call(e)))}}}).call(this)}).call(t);var e=t.ActionCable;(function(){(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.ConnectionMonitor=function(){function n(e){this.connection=e,this.visibilityDidChange=t(this.visibilityDidChange,this),this.reconnectAttempts=0}var i,o,r;return n.pollInterval={min:3,max:30},n.staleThreshold=6,n.prototype.start=function(){if(!this.isRunning())return this.startedAt=o(),delete this.stoppedAt,this.startPolling(),document.addEventListener("visibilitychange",this.visibilityDidChange),e.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms")},n.prototype.stop=function(){if(this.isRunning())return this.stoppedAt=o(),this.stopPolling(),document.removeEventListener("visibilitychange",this.visibilityDidChange),e.log("ConnectionMonitor stopped")},n.prototype.isRunning=function(){return null!=this.startedAt&&null==this.stoppedAt},n.prototype.recordPing=function(){return this.pingedAt=o()},n.prototype.recordConnect=function(){return this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,e.log("ConnectionMonitor recorded connect")},n.prototype.recordDisconnect=function(){return this.disconnectedAt=o(),e.log("ConnectionMonitor recorded disconnect")},n.prototype.startPolling=function(){return this.stopPolling(),this.poll()},n.prototype.stopPolling=function(){return clearTimeout(this.pollTimeout)},n.prototype.poll=function(){return this.pollTimeout=setTimeout((t=this,function(){return t.reconnectIfStale(),t.poll()}),this.getPollInterval());var t},n.prototype.getPollInterval=function(){var t,e,n,o;return n=(o=this.constructor.pollInterval).min,e=o.max,t=5*Math.log(this.reconnectAttempts+1),Math.round(1e3*i(t,n,e))},n.prototype.reconnectIfStale=function(){if(this.connectionIsStale())return e.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+r(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?e.log("ConnectionMonitor skipping reopening recent disconnect"):(e.log("ConnectionMonitor reopening"),this.connection.reopen())},n.prototype.connectionIsStale=function(){var t;return r(null!=(t=this.pingedAt)?t:this.startedAt)>this.constructor.staleThreshold},n.prototype.disconnectedRecently=function(){return this.disconnectedAt&&r(this.disconnectedAt)<this.constructor.staleThreshold},n.prototype.visibilityDidChange=function(){if("visible"===document.visibilityState)return setTimeout((t=this,function(){if(t.connectionIsStale()||!t.connection.isOpen())return e.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = "+document.visibilityState),t.connection.reopen()}),200);var t},o=function(){return(new Date).getTime()},r=function(t){return(o()-t)/1e3},i=function(t,e,n){return Math.max(e,Math.min(n,t))},n}()}).call(this),function(){var t,n,i,o,r,a=[].slice,s=function(t,e){return function(){return t.apply(e,arguments)}},l=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};o=e.INTERNAL,n=o.message_types,i=o.protocols,r=2<=i.length?a.call(i,0,t=i.length-1):(t=0,[]),i[t++],e.Connection=function(){function t(t){this.consumer=t,this.open=s(this.open,this),this.subscriptions=this.consumer.subscriptions,this.monitor=new e.ConnectionMonitor(this),this.disconnected=!0}return t.reopenDelay=500,t.prototype.send=function(t){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(t)),!0)},t.prototype.open=function(){return this.isActive()?(e.log("Attempted to open WebSocket, but existing socket is "+this.getState()),!1):(e.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+i),null!=this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new e.WebSocket(this.consumer.url,i),this.installEventHandlers(),this.monitor.start(),!0)},t.prototype.close=function(t){var e;if((null!=t?t:{allowReconnect:!0}).allowReconnect||this.monitor.stop(),this.isActive())return null!=(e=this.webSocket)?e.close():void 0},t.prototype.reopen=function(){var t;if(e.log("Reopening WebSocket, current state is "+this.getState()),!this.isActive())return this.open();try{return this.close()}catch(n){return t=n,e.log("Failed to reopen WebSocket",t)}finally{e.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}},t.prototype.getProtocol=function(){var t;return null!=(t=this.webSocket)?t.protocol:void 0},t.prototype.isOpen=function(){return this.isState("open")},t.prototype.isActive=function(){return this.isState("open","connecting")},t.prototype.isProtocolSupported=function(){var t;return t=this.getProtocol(),l.call(r,t)>=0},t.prototype.isState=function(){var t,e;return e=1<=arguments.length?a.call(arguments,0):[],t=this.getState(),l.call(e,t)>=0},t.prototype.getState=function(){var t,e;for(e in WebSocket)if(WebSocket[e]===(null!=(t=this.webSocket)?t.readyState:void 0))return e.toLowerCase();return null},t.prototype.installEventHandlers=function(){var t,e;for(t in this.events)e=this.events[t].bind(this),this.webSocket["on"+t]=e},t.prototype.uninstallEventHandlers=function(){var t;for(t in this.events)this.webSocket["on"+t]=function(){}},t.prototype.events={message:function(t){var e,i,o;if(this.isProtocolSupported())switch(e=(o=JSON.parse(t.data)).identifier,i=o.message,o.type){case n.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case n.ping:return this.monitor.recordPing();case n.confirmation:return this.subscriptions.notify(e,"connected");case n.rejection:return this.subscriptions.reject(e);default:return this.subscriptions.notify(e,"received",i)}},open:function(){if(e.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,!this.isProtocolSupported())return e.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close:function(){if(e.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error:function(){return e.log("WebSocket onerror event")}},t}()}.call(this),function(){var t=[].slice;e.Subscriptions=function(){function n(t){this.consumer=t,this.subscriptions=[]}return n.prototype.create=function(t,n){var i,o,r;return o="object"==typeof(i=t)?i:{channel:i},r=new e.Subscription(this.consumer,o,n),this.add(r)},n.prototype.add=function(t){return this.subscriptions.push(t),this.consumer.ensureActiveConnection(),this.notify(t,"initialized"),this.sendCommand(t,"subscribe"),t},n.prototype.remove=function(t){return this.forget(t),this.findAll(t.identifier).length||this.sendCommand(t,"unsubscribe"),t},n.prototype.reject=function(t){var e,n,i,o,r;for(o=[],e=0,n=(i=this.findAll(t)).length;e<n;e++)r=i[e],this.forget(r),this.notify(r,"rejected"),o.push(r);return o},n.prototype.forget=function(t){var e;return this.subscriptions=function(){var n,i,o,r;for(r=[],n=0,i=(o=this.subscriptions).length;n<i;n++)(e=o[n])!==t&&r.push(e);return r}.call(this),t},n.prototype.findAll=function(t){var e,n,i,o,r;for(o=[],e=0,n=(i=this.subscriptions).length;e<n;e++)(r=i[e]).identifier===t&&o.push(r);return o},n.prototype.reload=function(){var t,e,n,i,o;for(i=[],t=0,e=(n=this.subscriptions).length;t<e;t++)o=n[t],i.push(this.sendCommand(o,"subscribe"));return i},n.prototype.notifyAll=function(){var e,n,i,o,r,a,s;for(n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],a=[],i=0,o=(r=this.subscriptions).length;i<o;i++)s=r[i],a.push(this.notify.apply(this,[s,n].concat(t.call(e))));return a},n.prototype.notify=function(){var e,n,i,o,r,a,s;for(a=arguments[0],n=arguments[1],e=3<=arguments.length?t.call(arguments,2):[],r=[],i=0,o=(s="string"==typeof a?this.findAll(a):[a]).length;i<o;i++)a=s[i],r.push("function"==typeof a[n]?a[n].apply(a,e):void 0);return r},n.prototype.sendCommand=function(t,e){var n;return n=t.identifier,this.consumer.send({command:e,identifier:n})},n}()}.call(this),function(){e.Subscription=function(){function t(t,n,i){this.consumer=t,null==n&&(n={}),this.identifier=JSON.stringify(n),e(this,i)}var e;return t.prototype.perform=function(t,e){return null==e&&(e={}),e.action=t,this.send(e)},t.prototype.send=function(t){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(t)})},t.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},e=function(t,e){var n,i;if(null!=e)for(n in e)i=e[n],t[n]=i;return t},t}()}.call(this),function(){e.Consumer=function(){function t(t){this.url=t,this.subscriptions=new e.Subscriptions(this),this.connection=new e.Connection(this)}return t.prototype.send=function(t){return this.connection.send(t)},t.prototype.connect=function(){return this.connection.open()},t.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},t.prototype.ensureActiveConnection=function(){if(!this.connection.isActive())return this.connection.open()},t}()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd&&define(e)}.call(this),function(){this.App||(this.App={}),App.cable=ActionCable.createConsumer()}.call(this),$.get("/lists.json",function(t){let e=new User(t[0].user);$("#user").html(e.renderUserName())}),User.prototype.renderUserName=function(){return`${this.email.split("@")[0]}`},$(function(){attachListeners()});let listData=(t,e)=>t.find(t=>t.id===e),linkData=(t,e)=>{let n=e.id,i=e.color;return e.links.map(t=>{let e=t.id,o=t.name,r=t.url,a="/lists/"+n+"/links/"+e,s=new Date(t.created_at),l=s.getMonth()+1+"-"+s.getDate()+"-"+s.getFullYear(),c=t.priority;$(".link").append('\n            <div class="caption top-margin-show"> </br>\n                <div class="font"><a href='+a+' data-id="'+e+'">'+o+'<a>\n                <a href= "/lists/'+n+"/links/"+e+'" data-method="delete"> <i class="small material-icons link-icons-gray push-right">delete</i></a>\n                <a href= "#"> <i id="flag-'+e+'" class="small material-icons link-icons-gray push-right">assistant_photo</i></a>\n                <a href='+a+'> <i data-id="'+e+'" class="small material-icons link-icons-gray push-right">edit</i></a>\n                <a href='+a+'> <i data-id="'+e+'" class="small material-icons link-icons-gray push-right">visibility</i></a>\n                <a href= "'+r+'"target= "blank"> <i class="small material-icons link-icons-gray push-right">link</i></a>\n                </div>\n            </div>       \n            <iframe src="'+r+'" style="border-color: '+i+';" class = "preview rounded iframe-placeholder" href=#>'+r+'</iframe>\n            <div class="link_date font>">'+l+"</div>\n        "),attachFlagListener(c,e)})};$.get("/lists.json",function(t){let e=new User(t[0].user);$("#user").html(e.renderUserName())}),User.prototype.renderUserName=function(){return`${this.email.split("@")[0]}`},
List.prototype.listData=function(t,e){return t.find(t=>t.id===e)};